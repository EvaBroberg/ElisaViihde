(this.webpackJsonpviihde=this.webpackJsonpviihde||[]).push([[0],[,,,,,,,,,,function(e,n,t){e.exports=t(21)},,,,,function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),s=t(4),o=t.n(s),c=(t(15),t(1)),i=t.n(c),l=t(2),u=t(5),h=t(6),m=t(8),g=t(7),p=t(9),f=(t(17),t(18),function(e){return!!e.programs.length&&(e.logo?r.a.createElement("div",{className:"channel"},r.a.createElement("img",{src:e.logo,alt:"logo"}),e.programs.map((function(e){return r.a.createElement("h4",null,e.name)}))):r.a.createElement("div",{className:"channel"},r.a.createElement("h3",null,e.name),e.programs.map((function(e){return r.a.createElement("h4",null,e.name)}))))}),v=(t(19),function(e){return r.a.createElement("div",{className:"channelList"},e.channelsPrograms.map((function(n){var t=e.channelsLogos.hasOwnProperty(n.channel.id)?e.channelsLogos[n.channel.id]:null;return r.a.createElement(f,{programs:n.programs,name:n.channel.name,logo:t})})))}),d=(t(20),function(e){function n(){var e;return Object(u.a)(this,n),(e=Object(m.a)(this,Object(g.a)(n).call(this))).state={channelsLogos:[],channelsPrograms:[],title:""},e}return Object(p.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChannelsLogos();case 2:return n=e.sent,this.setState({channelsLogos:n}),e.next=6,this.getLivePrograms();case 6:e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLivePrograms",value:function(){var e=Object(l.a)(i.a.mark((function e(){var n,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://rest-api.elisaviihde.fi/rest/epg/schedule/live");case 2:return n=e.sent,e.next=5,n.json();case 5:t=e.sent,this.setState({channelsPrograms:t.schedule});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChannelsLogos",value:function(){var e=Object(l.a)(i.a.mark((function e(){var n,t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://rest-api.elisaviihde.fi/rest/epg/channels");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,a={},t.channels.forEach((function(e){a[e.id]=e.logos[7].url})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"renderChannels",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,{channelsPrograms:this.state.channelsPrograms,channelsLogos:this.state.channelsLogos}))}},{key:"render",value:function(){return this.state.channelsPrograms.length?this.renderChannels():"Loading..."}}]),n}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.15b70984.chunk.js.map